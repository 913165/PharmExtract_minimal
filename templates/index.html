<!doctype html>
<html>
  <head>
    <title>Pharmaceutical Report Structuring</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Open Graph / Twitter Card meta tags for rich link previews -->
    <meta
      property="og:title"
      content="PharmExtract â€“ Pharmaceutical Report Structuring Demo"
    />
    <meta
      property="og:description"
      content="Transform unstructured pharmaceutical reports into actionable, structured data instantly. See how Google's Gemini AI + LangExtract revolutionize pharmaceutical documentation with real-time extraction of methodology, results, and regulatory insights."
    />
    <meta property="og:url" content="{{ share_url_for_sharing }}" />
    <meta
      property="og:image"
      content="{{ share_url_for_sharing }}/static/pharmextract-preview.jpg"
    />
    <meta property="og:type" content="website" />
    <meta property="og:video" content="{{ share_url_for_sharing }}/static/pharmextract-preview.mp4" />
    <meta property="og:video:secure_url" content="{{ share_url_for_sharing }}/static/pharmextract-preview.mp4" />
    <meta property="og:video:type" content="video/mp4" />
    <meta property="og:video:width" content="1920" />
    <meta property="og:video:height" content="1080" />

    <meta name="twitter:card" content="player" />
    <meta
      name="twitter:title"
      content="PharmExtract â€“ Pharmaceutical Report Structuring Demo"
    />
    <meta
      name="twitter:description"
      content="Transform unstructured pharmaceutical reports into actionable, structured data instantly. See how Google's Gemini AI + LangExtract revolutionize pharmaceutical documentation with real-time extraction of methodology, results, and regulatory insights."
    />

    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg" />
    <link rel="shortcut icon" href="/static/favicon.svg" />
    <link rel="apple-touch-icon" href="/static/favicon.svg" />

    <link rel="stylesheet" href="/static/style.css?v=20250129-video-preview" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  </head>

  <body class="page-wrapper">
    <div class="header-container">
    <div class="main-flex-container">
      <div class="samples-container card" style="text-align:left;">
        <h3 style="text-align:left;">Sample Reports</h3>
        <div class="samples-description">
          <div class="instruction-step">
            <span class="step-number">1</span> Select a sample or paste your
            report
          </div>
          <div class="instruction-step">
            <span class="step-number">2</span> Click "Process" to start for pasted
            reports
          </div>
          <div class="instruction-step">
            <span class="step-number">3</span> Hover output sections to highlight
            source text
          </div>
        </div>
        <div class="sample-buttons"></div>
        <p class="samples-tip tip-desktop">
          ðŸ’¡ Try tweaking a sample (remove sections, add extra results, or paste
          your own report) to see how the demo responds.
        </p>
        <p class="mobile-tip" role="note">
          <span class="icon">ðŸ’¡</span>
          Tap any sample report to explore the structuring features. The keyboard
          stays closed so you can easily scroll and interact with highlighted sections.<br><br>
          <strong>Tip:</strong> Custom input is available only on desktop or laptop computers.
          If you're viewing this on a mobile device, please switch to a computer to enter your own reports.
        </p>
      </div>

      <div class="right-panel">
        <div class="interface-options-panel card">
          <div class="interface-options-header" data-action="toggle-interface">
            <h4 class="interface-options-title">Interface Controls</h4>
            <div class="interface-options-summary">
              <span>LX Generated Prompt â€¢ LX Structured Output â€¢ Use Cache</span>
              <span
                class="material-symbols-outlined expand-icon"
                id="interface-expand-icon"
                >expand_more</span
              >
            </div>
          </div>
          <div
            class="interface-options-content"
            id="interface-options-content"
            style="display: none"
          >
            <div class="interface-options-grid">
              <div class="interface-option">
                <div class="option-header">
                  <span class="material-symbols-outlined option-icon"
                    >visibility</span
                  >
                  <strong>LX Generated Prompt</strong>
                </div>
                <p class="option-description">
                  View the complete prompt sent to the model, including task
                  description, examples, and your input text
                </p>
              </div>
              <div class="interface-option">
                <div class="option-header">
                  <span class="material-symbols-outlined option-icon">code</span>
                  <strong>LX Structured Output</strong>
                </div>
                <p class="option-description">
                  Toggle between the formatted text view and raw LangExtract JSON
                  data with extraction details
                </p>
              </div>
              <div class="interface-option">
                <div class="option-header">
                  <span class="material-symbols-outlined option-icon">cached</span>
                  <strong>Use Cache</strong>
                </div>
                <p class="option-description">
                  Switch between live model inference and pre-generated Gemini 2.5
                  Pro cached results for faster testing
                </p>
              </div>
            </div>
            <div class="interface-options-note">
              <span class="material-symbols-outlined note-icon">info</span>
              <span>
                These controls are located in the Input and Output headers below
                for easy access during interaction.
              </span>
            </div>
          </div>
        </div>

        <div class="text-area-container card">
          <div class="text-area-wrapper input-wrapper">
            <div class="input-header">
              <h2>Input</h2>
              <label class="prompt-toggle"
                ><input type="checkbox" id="prompt-toggle" /> LX Prompt</label
              >
            </div>
            <div id="input-text-container" class="input-container">
              <textarea
                id="input-text"
                class="large-text-area"
                placeholder="Enter pharmaceutical report here or load a sample from above..."
                spellcheck="false"
                autocomplete="off"
                autocorrect="off"
                autocapitalize="off"
                inputmode="none"
              ></textarea>
              <button
                id="clear-input"
                class="clear-button-overlay"
                title="Clear input"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              </button>
            </div>
            <div id="prompt-output" class="raw-json" style="display: none"></div>
          </div>
          <div class="text-area-wrapper" id="output-container">
            <div class="output-header">
              <h2>Output</h2>
              <label class="raw-toggle"
                ><input type="checkbox" id="raw-toggle" /> LX Data</label
              >
            </div>
            <div id="output-text-container" class="output-container">
              <pre
                id="output-text"
                class="large-text-area output-text"
                placeholder="Structured output will appear here..."
              ></pre>
              <div
                id="raw-output"
                class="raw-json output-text"
                style="display: none"
              ></div>
              <button
                id="copy-output"
                class="copy-button-overlay"
                title="Copy output to clipboard"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path
                    d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                  ></path>
                </svg>
              </button>
              <div
                id="loading-overlay"
                class="loading-overlay"
                style="display: none"
              >
                <div class="spinner"></div>
                <div class="loader-text">
                  <span class="loader-message"
                    >Running LangExtract with Gemini 2.5 Flash</span
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="panel-controls">
            <!-- ROW 1 -->
            <div class="model-select-container">
              <label for="model-select">Model:</label>
              <select id="model-select">
                <option value="gemini-2.5-flash" selected>Gemini 2.5 Flash</option>
                <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
              </select>
            </div>

            <label class="cache-toggle">
              <input type="checkbox" id="cache-toggle" checked />
              Use Cache
              <span class="cache-status" id="cache-status"></span>
            </label>

            <!-- ROW 2 (mobile only) -->
            <label class="prompt-toggle mobile-toggle">
              <input type="checkbox" id="prompt-toggle-mobile" /> LX Prompt
            </label>

            <label class="raw-toggle mobile-toggle">
              <input type="checkbox" id="raw-toggle-mobile" /> LX Data
            </label>
          </div>
        </div>

        <div class="action-bar">
          <button id="predict-button">Process</button>

          <div class="clinical-significance-legend">
            <span class="legend-title">Results:</span>
            <span class="legend-item"
              ><span class="legend-line minor"></span>General</span
            >
            <span class="legend-item"
              ><span class="legend-line major"></span>Significant</span
            >
            <span class="legend-item"
              ><span class="legend-line grounding"></span>Grounding</span
            >
          </div>
        </div>

        <div class="instructions"></div>
      </div>

    <script src="https://cdn.jsdelivr.net/npm/json-formatter-js@2.3.4/dist/json-formatter.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script
      type="module"
      src="/static/script.js?v=20250125-refactored"
    ></script>
  </body>
</html>
